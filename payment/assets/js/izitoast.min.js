/*
* iziToast | v1.4.0
* http://izitoast.marcelodolce.com
* by Marcelo Dolce.
*/
(function(root,factory){if(typeof define==='function'&&define.amd){define([],factory(root))}else if(typeof exports==='object'){module.exports=factory(root)}else{root.iziToast=factory(root)}})(typeof global!=='undefined'?global:this.window||this.global,function(root){'use strict';var iziToast=function(options){this.options=Object.assign({},iziToast.defaults,options);this.init()};iziToast.defaults={class:'',title:'',message:'',color:'',icon:'',image:'',imageWidth:50,maxWidth:null,zindex:null,layout:1,balloon:false,close:true,closeOnEscape:false,closeOnClick:false,rtl:false,position:'bottomRight',target:'',targetFirst:true,toastOnce:false,timeout:5000,animateInside:true,drag:true,pauseOnHover:true,resetOnHover:false,progressBar:true,progressBarColor:'',progressBarEasing:'linear',overlay:false,overlayClose:false,overlayColor:'rgba(0, 0, 0, 0.6)',buttons:{},inputs:{},transitionIn:'fadeInUp',transitionOut:'fadeOut',transitionInMobile:'fadeInUp',transitionOutMobile:'fadeOutDown',onOpening:function(){},onOpened:function(){},onClosing:function(){},onClosed:function(){}};iziToast.prototype.init=function(){var that=this;var $izi=document.createElement('div');$izi.classList.add('iziToast');if(this.options.zindex!==null){$izi.style.zIndex=this.options.zindex}if(this.options.class!==''){$izi.classList.add(this.options.class)}if(this.options.balloon){$izi.classList.add('iziToast-balloon')}if(this.options.rtl){$izi.classList.add('iziToast-rtl')}if(this.options.layout>1){$izi.classList.add('iziToast-layout'+this.options.layout)}if(this.options.toastOnce&&document.querySelector('.iziToast.iziToast-color-'+this.options.color)){return}if(this.options.title!==''){var $title=document.createElement('div');$title.classList.add('iziToast-title');$title.innerHTML=this.options.title;$izi.appendChild($title)}if(this.options.message!==''){var $message=document.createElement('div');$message.classList.add('iziToast-message');$message.innerHTML=this.options.message;$izi.appendChild($message)}if(this.options.color!==''){if(this.options.color.substring(0,1)==='#'||this.options.color.substring(0,3)==='rgb'||this.options.color.substring(0,3)==='hsl'){$izi.style.background=this.options.color}else{$izi.classList.add('iziToast-color-'+this.options.color)}}if(this.options.image!==''){var $image=document.createElement('img');$image.src=this.options.image;$image.style.width=this.options.imageWidth+'px';var $div=document.createElement('div');$div.classList.add('iziToast-image');$div.appendChild($image);$izi.appendChild($div)}if(this.options.icon!==''){var $icon=document.createElement('i');$icon.classList.add('iziToast-icon');$icon.classList.add(this.options.icon);$izi.appendChild($icon)}if(this.options.close){var $close=document.createElement('a');$close.href='javascript:void(0)';$close.classList.add('iziToast-close');$close.innerHTML='&times;';$izi.appendChild($close);$close.addEventListener('click',function(e){e.preventDefault();that.hide()})}if(this.options.buttons!=={}){var $buttons=document.createElement('div');$buttons.classList.add('iziToast-buttons');var i=0,button;for(var name in this.options.buttons){button=this.options.buttons[name];var $button=document.createElement('button');$button.type='button';$button.classList.add('iziToast-button');$button.innerHTML=button[0];$button.addEventListener('click',function(e){var cb=button[1];cb(that,e)});$buttons.appendChild($button);i++;if(i===2){break}}if(i>0){$izi.appendChild($buttons)}}if(this.options.inputs!=={}){var $inputs=document.createElement('div');$inputs.classList.add('iziToast-inputs');var j=0,input;for(var name in this.options.inputs){input=this.options.inputs[name];var $input=document.createElement('input');$input.type=input[0];$input.placeholder=input[1];if(input[2]){$input.addEventListener(input[2],function(e){var cb=input[3];cb(that,e)})}else{$input.addEventListener('keyup',function(e){if(e.keyCode===13){var cb=input[3];cb(that,e)}})}$inputs.appendChild($input);j++}if(j>0){$izi.appendChild($inputs)}}if(this.options.progressBar){var $progressBar=document.createElement('div');$progressBar.classList.add('iziToast-progressbar');var $progressBarDiv=document.createElement('div');if(this.options.progressBarColor!==''){$progressBarDiv.style.background=this.options.progressBarColor}$progressBar.appendChild($progressBarDiv);$izi.appendChild($progressBar)}if(this.options.target){var $target=document.querySelector(this.options.target);if($target){if(this.options.targetFirst){$target.insertBefore($izi,$target.firstChild)}else{$target.appendChild($izi)}}else{console.warn('Target selector not found: '+this.options.target)}}else{if(!document.querySelector('.iziToast-wrapper.'+this.options.position)){var $wrapper=document.createElement('div');$wrapper.classList.add('iziToast-wrapper');$wrapper.classList.add(this.options.position);document.body.appendChild($wrapper)}$wrapper.appendChild($izi)}if(this.options.maxWidth!==null){$izi.style.maxWidth=this.options.maxWidth+'px'}this.options.onOpening.apply(this,[]);$izi.classList.add(this.options.transitionIn);(function(instance){var $toast=$izi;var $progressBarDiv=$progressBar? $progressBar.querySelector('div'):null;var timer=null;var timerTimeout=null;var timerDrag=false;var timerPause=false;var hide=function(){instance.hide()};var start=function(){if(instance.options.timeout>0){timerTimeout=setTimeout(function(){hide()},instance.options.timeout);if($progressBarDiv){$progressBarDiv.style.transition=instance.options.progressBarEasing+' '+instance.options.timeout+'ms';$progressBarDiv.style.width='100%'}if(instance.options.pauseOnHover){$toast.addEventListener('mouseenter',function(){timerPause=true;clearTimeout(timerTimeout);if($progressBarDiv){var computedStyle=window.getComputedStyle($progressBarDiv);var width=computedStyle.getPropertyValue('width');$progressBarDiv.style.transition='';$progressBarDiv.style.width=width}});$toast.addEventListener('mouseleave',function(){timerPause=false;start()})}if(instance.options.resetOnHover){$toast.addEventListener('mouseover',function(){clearTimeout(timerTimeout);$progressBarDiv.style.transition='';$progressBarDiv.style.width='0%'});$toast.addEventListener('mouseout',function(){start()})}}};start();if(instance.options.drag){$toast.addEventListener('mousedown',function(e){if(timerDrag){return}timerDrag=true;var startX=e.clientX,toastWidth=$toast.offsetWidth,deltaX=0;var move=function(e){deltaX=Math.abs(e.clientX-startX);var opacity=1-(deltaX/toastWidth);$toast.style.opacity=opacity;if(deltaX>toastWidth/2){instance.hide()}};var up=function(){timerDrag=false;$toast.style.opacity=1;document.removeEventListener('mousemove',move);document.removeEventListener('mouseup',up)};document.addEventListener('mousemove',move);document.addEventListener('mouseup',up)})}})(this);if(this.options.closeOnEscape){document.addEventListener('keyup',function(e){if(e.keyCode===27){that.hide()}})}if(this.options.closeOnClick){$izi.addEventListener('click',function(){that.hide()})}this.options.onOpened.apply(this,[])};iziToast.prototype.hide=function(){var that=this;var $izi=document.querySelector('.iziToast');if($izi!==null){$izi.classList.remove(this.options.transitionIn);$izi.classList.add(this.options.transitionOut);this.options.onClosing.apply(this,[]);var event=new Event('iziToast-closing');$izi.dispatchEvent(event);setTimeout(function(){if($izi.parentNode){$izi.parentNode.removeChild($izi)}that.options.onClosed.apply(that,[]);var event=new Event('iziToast-closed');$izi.dispatchEvent(event)},1000)}};iziToast.show=function(options){var instance=new iziToast(options);return instance};iziToast.info=function(options){var instance=new iziToast(Object.assign(options,{color:'blue',icon:'ico-info'}));return instance};iziToast.success=function(options){var instance=new iziToast(Object.assign(options,{color:'green',icon:'ico-success'}));return instance};iziToast.warning=function(options){var instance=new iziToast(Object.assign(options,{color:'yellow',icon:'ico-warning'}));return instance};iziToast.error=function(options){var instance=new iziToast(Object.assign(options,{color:'red',icon:'ico-error'}));return instance};return iziToast});