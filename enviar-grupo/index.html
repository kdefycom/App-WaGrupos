
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Enviar Grupo - KDefy</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%23f0f0f0'/><text x='50' y='78' font-size='80' font-family='-apple-system,BlinkMacSystemFont,sans-serif' font-weight='bold' text-anchor='middle' fill='%23000000'>K</text></svg>">
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "Enviar Grupo - Kdefy Grupos",
  "url": "https://app.kdefy.com/enviar-grupo/",
  "description": "Envie seu grupo de WhatsApp ou Telegram para ser listado no Kdefy Grupos. Compartilhe seu grupo com a comunidade.",
  "inLanguage": "pt-BR",
  "publisher": {
    "@type": "Organization",
    "name": "Kdefy",
    "url": "https://app.kdefy.com",
    "logo": {
      "@type": "ImageObject",
      "url": "https://app.kdefy.com/favicon.svg"
    }
  }
}
</script>
  <link rel="stylesheet" href="style.css">

  <style>
    /* ALERT START */
    :root {
      --custom-alert-bg: #1E1E1E;
      --custom-alert-text: #E0E0E0;
      --custom-alert-title: #FFFFFF;
      --custom-alert-border: #444444;
      --custom-alert-overlay: rgba(0, 0, 0, 0.7);
      --custom-alert-btn-primary-bg: #4A90E2;
      --custom-alert-btn-primary-text: #FFFFFF;
      --custom-alert-btn-secondary-bg: #333333;
      --custom-alert-btn-secondary-text: #E0E0E0;
    }
    .custom-alert-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--custom-alert-overlay);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      opacity: 0;
      transition: opacity 0.2s ease-in-out;
    }
    .custom-alert-overlay.active {
      opacity: 1;
    }
    .custom-alert-box {
      background: var(--custom-alert-bg);
      padding: 24px;
      border-radius: 12px;
      border: 1px solid var(--custom-alert-border);
      width: 90%;
      max-width: 400px;
      text-align: center;
      font-family: 'Inter', sans-serif;
      transform: scale(0.95);
      transition: transform 0.2s ease-in-out;
    }
    .custom-alert-overlay.active .custom-alert-box {
        transform: scale(1);
    }
    .custom-alert-title {
      font-size: 20px;
      font-weight: 700;
      color: var(--custom-alert-title);
      margin: 0 0 10px 0;
    }
    .custom-alert-message {
      font-size: 16px;
      color: var(--custom-alert-text);
      margin: 0 0 24px 0;
      line-height: 1.5;
    }
    .custom-alert-buttons {
      display: flex;
      justify-content: center;
      gap: 12px;
    }
    .custom-alert-button {
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 500;
      cursor: pointer;
      transition: background-color 0.2s;
      flex-grow: 1;
    }
    .custom-alert-button.primary {
      background-color: var(--custom-alert-btn-primary-bg);
      color: var(--custom-alert-btn-primary-text);
    }
    .custom-alert-button.primary:hover {
        filter: brightness(1.1);
    }
    .custom-alert-button.secondary {
      background-color: var(--custom-alert-btn-secondary-bg);
      color: var(--custom-alert-btn-secondary-text);
    }
    .custom-alert-button.secondary:hover {
        filter: brightness(1.2);
    }
    /* ALERT END */

    /* --- Feedback de Valida√ß√£o do Link --- */

    /* Caixa de Alerta de Valida√ß√£o */
    .alert {
        padding: 12px 16px;
        margin-bottom: 16px;
        border-radius: 8px;
        font-weight: 500;
        text-align: left;
        border: 1px solid;
    }
    .alert-error {
        background-color: #4d2a2a;
        color: #ffc2c2;
        border-color: #883a3a;
    }
    .alert-success {
        background-color: #2a4d3e;
        color: #c2ffe5;
        border-color: #3a8862;
    }

    /* Bot√£o Prosseguir */
    #prosseguirBtn {
        transition: background-color 0.3s ease, opacity 0.3s ease, box-shadow 0.3s ease;
    }

    #prosseguirBtn:not([disabled]) {
        background-color: var(--custom-alert-btn-primary-bg, #4A90E2);
        cursor: pointer;
        animation: pulse-blue 2s infinite;
    }
    
    #prosseguirBtn:not([disabled]):hover {
        filter: brightness(1.15);
        animation: none; /* Pausa a anima√ß√£o ao passar o mouse */
    }

    /* Anima√ß√£o Pulsante para o Bot√£o Ativo */
    @keyframes pulse-blue {
        0% {
            box-shadow: 0 0 0 0 rgba(74, 144, 226, 0.6);
        }
        70% {
            box-shadow: 0 0 0 10px rgba(74, 144, 226, 0);
        }
        100% {
            box-shadow: 0 0 0 0 rgba(74, 144, 226, 0);
        }
    }

  </style>
</head>
<body>
  <div class="container">
    <div class="card">
      <h1>‚ûï Enviar Grupo</h1>
      <p class="subtitle">Compartilhe seu grupo com a comunidade</p>

      <!-- Step 1: Escolher Tipo -->
      <div id="step1" class="step active">
        <label>Escolha o tipo do grupo:</label>
        <div class="tipo-grid">
          <button class="tipo-btn whatsapp" onclick="escolherTipo('whatsapp')">
            üì±<br>Grupos de WhatsApp
          </button>
          <button class="tipo-btn telegram" onclick="escolherTipo('telegram')">
            ‚úàÔ∏è<br>Grupos de Telegram
          </button>
          <button class="tipo-btn instagram" onclick="escolherTipo('instagram')">
            üì∑<br>Grupos de Instagram
          </button>
          <button class="tipo-btn whatsapp-channel" onclick="escolherTipo('canal_whatsapp')">
            üì¢<br>Canais do WhatsApp
          </button>
        </div>
        <a href="/" class="btn btn-back">‚Üê Voltar</a>
      </div>

      <!-- Step 2: Validar Link -->
      <div id="step2" class="step">
        <div id="alert"></div>
        <label>Cole o link do <span id="tipoTexto"></span>:</label>
        <input type="url" id="linkInput" placeholder="https://">
        <button id="prosseguirBtn" class="btn btn-primary" onclick="prosseguirParaDetalhes()" disabled>Prosseguir</button>
        <button class="btn btn-back" onclick="voltarStep(1)">‚Üê Voltar</button>
      </div>

      <!-- Step 3: Preview e Detalhes -->
      <div id="step3" class="step">
        <h2>üìù Detalhes do Grupo</h2>
        
        <img id="previewImg" class="preview-img" src="https://via.placeholder.com/300" alt="Preview">
        
        <div class="upload-area" onclick="document.getElementById('fotoUpload').click()">
          <p>üì∑ Clique para alterar a foto</p>
          <input type="file" id="fotoUpload" accept="image/*" onchange="alterarFoto()">
        </div>

        <label>Nome do Grupo *</label>
        <input type="text" id="nomeInput" placeholder="Ex: Grupo de Amigos" required>

        <label>Descri√ß√£o/Bio do Grupo</label>
        <textarea id="descInput" placeholder="Fale sobre o grupo..."></textarea>

        <label>Categoria *</label>
        <select id="categoriaSelect"></select>

        <label>Regras do Grupo</label>
        <div class="regras-grid" id="regrasGrid"></div>

        <label>Seu Email *</label>
        <input type="email" id="emailInput" placeholder="seu@email.com" required>

        <button class="btn btn-secondary" onclick="enviarGrupo()">Enviar para An√°lise</button>
        <button class="btn btn-back" onclick="voltarStep(2)">‚Üê Voltar</button>
      </div>
    </div>
  </div>

<script>
/* ALERT START */
function createAlert(message, title = 'Aviso', confirmText = 'OK') {
    return new Promise((resolve) => {
        // Remove qualquer alerta existente para evitar duplicatas
        const existingAlert = document.querySelector('.custom-alert-overlay');
        if (existingAlert) {
            existingAlert.remove();
        }

        const alertOverlay = document.createElement('div');
        alertOverlay.className = 'custom-alert-overlay';

        const alertBox = document.createElement('div');
        alertBox.className = 'custom-alert-box';

        alertBox.innerHTML = `
            <div class="custom-alert-title">${title}</div>
            <div class="custom-alert-message">${message}</div>
            <div class="custom-alert-buttons">
                <button class="custom-alert-button primary">${confirmText}</button>
            </div>
        `;

        alertOverlay.appendChild(alertBox);
        document.body.appendChild(alertOverlay);
        
        // For√ßa o navegador a aplicar o estilo inicial (opacity 0)
        window.getComputedStyle(alertOverlay).opacity;
        
        // Adiciona a classe 'active' para iniciar a transi√ß√£o
        alertOverlay.classList.add('active');

        const confirmButton = alertBox.querySelector('.primary');

        const closeAlert = () => {
            alertOverlay.classList.remove('active');
            alertOverlay.addEventListener('transitionend', () => {
                if(alertOverlay.parentElement) {
                    alertOverlay.remove();
                }
                resolve(true);
            }, { once: true });
        };

        confirmButton.addEventListener('click', closeAlert);
        alertOverlay.addEventListener('click', (e) => {
            if (e.target === alertOverlay) {
                closeAlert();
            }
        });
    });
}

function createConfirm(message, title = 'Confirma√ß√£o', confirmText = 'Confirmar', cancelText = 'Cancelar') {
    return new Promise((resolve) => {
        const existingAlert = document.querySelector('.custom-alert-overlay');
        if (existingAlert) {
            existingAlert.remove();
        }

        const alertOverlay = document.createElement('div');
        alertOverlay.className = 'custom-alert-overlay';

        const alertBox = document.createElement('div');
        alertBox.className = 'custom-alert-box';

        alertBox.innerHTML = `
            <div class="custom-alert-title">${title}</div>
            <div class="custom-alert-message">${message}</div>
            <div class="custom-alert-buttons">
                <button class="custom-alert-button secondary">${cancelText}</button>
                <button class="custom-alert-button primary">${confirmText}</button>
            </div>
        `;

        alertOverlay.appendChild(alertBox);
        document.body.appendChild(alertOverlay);

        window.getComputedStyle(alertOverlay).opacity;
        alertOverlay.classList.add('active');

        const primaryButton = alertBox.querySelector('.primary');
        const secondaryButton = alertBox.querySelector('.secondary');

        const close = (value) => {
            alertOverlay.classList.remove('active');
            alertOverlay.addEventListener('transitionend', () => {
                 if(alertOverlay.parentElement) {
                    alertOverlay.remove();
                }
                resolve(value);
            }, { once: true });
        };

        primaryButton.addEventListener('click', () => close(true));
        secondaryButton.addEventListener('click', () => close(false));
        alertOverlay.addEventListener('click', (e) => {
            if (e.target === alertOverlay) {
                close(false);
            }
        });
    });
}

// Fun√ß√µes globais para facilitar a chamada
window.customAlert = createAlert;
window.customConfirm = createConfirm;
/* ALERT END */
</script>

  <script src="/app.js"></script>
  <script src="script.js"></script>
</body>
</html>
